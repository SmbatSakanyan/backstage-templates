apiVersion: scaffolder.backstage.io/v1beta3
kind: Template
metadata:
  name: write-readme
  title: Create a README stub
  description: Shows how to write a file to the workspace and echo it back.
spec:
  owner: guest             # adjust to an entity that exists in your catalog
  type: documentation

  parameters:
    - title: Component details
      required: [name, description]
      properties:
        name:
          type: string
          title: Component name
        description:
          type: string
          title: Short description

  steps:
    # 1. Write a README.md file into the task workspace
    - id: write
      name: Create README
      action: fs:write
      input:
        path: README.md
        content: |
          # ${{ parameters.name }}

          ${{ parameters.description }}

          > Generated by Backstage template **write-readme**.
        encoding: utf8

    # 2. Log the contents we just wrote (nice for verifying output quickly)
    - id: show
      name: Show README content
      action: debug:log
      input:
        message: |
          ðŸ“„ README created with content:

          ${{ steps['write'].output.content }}

  output:
    files:
      - title: Open README.md
        path: README.md
